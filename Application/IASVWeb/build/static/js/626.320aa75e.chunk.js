"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[626],{626:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(43),c=t(837),o=t(488),n=t.n(o),l=t(579);const r=function(){const[e,a]=(0,s.useState)([]),[t,o]=(0,s.useState)(!0),[r,m]=(0,s.useState)(null),i=(0,s.useRef)([]),d=(0,s.useRef)(null),[h,u]=(0,s.useState)(n().getSelectedClub()),[g,f]=(0,s.useState)(n().getSelectedCompetition());(0,s.useEffect)((()=>{h&&h.cl_no&&(async()=>{o(!0);try{if(h&&h.cl_no){const e=await(0,c.l7)(h.cl_no);a(e)}}catch(r){m("Erreur lors de la r\xe9cup\xe9ration des matchs.")}finally{o(!1)}})();return n().onClubChange((e=>{u(e),a([])})),n().onCompetitionChange((e=>{f(e)})),()=>{n().onClubChange((()=>{})),n().onCompetitionChange((()=>{}))}}),[h]);const N=(0,s.useMemo)((()=>e.filter((e=>e.homeTeam===h.name&&e.homeCompetitionName===g||e.awayTeam===h.name&&e.awayCompetitionName===g))),[e,h.name,g]);return(0,s.useEffect)((()=>{if(N.length>0){const e=new Date;console.log("Today's date:",e);const a=N.reduce(((a,t,s)=>{const c=new Date(t.date);return console.log("Match ".concat(s,": "),c),c<e&&(-1===a||c>new Date(N[a].date))?s:a}),-1);console.log("Last match index:",a),a>=0&&i.current[a]&&d.current.scrollTo({top:i.current[a].offsetTop-93,behavior:"smooth"})}}),[N]),t?(0,l.jsx)("div",{className:"loading",children:"Chargement des matchs..."}):r?(0,l.jsxs)("div",{className:"error",children:["Erreur : ",r]}):(0,l.jsx)("div",{className:"tab-content-match",children:0===N.length?(0,l.jsxs)("p",{className:"error",children:["Aucun match trouv\xe9 pour ",h.name,"."]}):(0,l.jsxs)("div",{className:"scroll-container",ref:d,children:[" ",N.map(((e,a)=>(0,l.jsxs)("div",{className:"match-item",ref:e=>i.current[a]=e,children:[(0,l.jsxs)("div",{className:"match-date",children:[new Date(e.date).toLocaleDateString()," - ",e.time," - ",e.competitionName]}),(0,l.jsxs)("div",{className:"match-content",children:[(0,l.jsxs)("div",{className:"match-details-team",children:[(0,l.jsx)("img",{src:e.homeLogo,alt:"".concat(e.homeTeam," logo"),className:"team-logo"}),e.homeTeam]}),(0,l.jsx)("div",{className:"match-score",children:e.home_score}),(0,l.jsxs)("div",{className:"match-details-team",children:[(0,l.jsx)("img",{src:e.awayLogo,alt:"".concat(e.awayTeam," logo"),className:"team-logo"}),e.awayTeam]}),(0,l.jsx)("div",{className:"match-score",children:e.away_score})]})]},e.id)))]})})}}}]);
//# sourceMappingURL=626.320aa75e.chunk.js.map