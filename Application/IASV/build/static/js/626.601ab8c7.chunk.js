"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[626],{626:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(43),c=t(837),n=t(488),o=t.n(n),l=t(579);const r=function(){const[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[r,m]=(0,s.useState)(null),i=(0,s.useRef)([]),[d,h]=(0,s.useState)(o().getSelectedClub()),[u,g]=(0,s.useState)(o().getSelectedCompetition());(0,s.useEffect)((()=>{d&&d.cl_no&&(async()=>{n(!0);try{if(d&&d.cl_no){const e=await(0,c.l7)(d.cl_no);a(e)}}catch(r){m("Erreur lors de la r\xe9cup\xe9ration des matchs.")}finally{n(!1)}})();return o().onClubChange((e=>{h(e),a([])})),o().onCompetitionChange((e=>{g(e)})),()=>{o().onClubChange((()=>{})),o().onCompetitionChange((()=>{}))}}),[d]);const N=(0,s.useMemo)((()=>e.filter((e=>e.homeTeam===d.name&&e.homeCompetitionName===u||e.awayTeam===d.name&&e.awayCompetitionName===u))),[e,d.name,u]);return(0,s.useEffect)((()=>{if(N.length>0){const e=new Date,a=N.reduce(((a,t,s)=>{const c=new Date(t.date);return c<e&&(-1===a||c>new Date(N[a].date))?s:a}),-1);a>=0&&i.current[a]&&i.current[a].scrollIntoView({behavior:"smooth",block:"start"})}}),[N]),t?(0,l.jsx)("div",{className:"loading",children:"Chargement des matchs..."}):r?(0,l.jsxs)("div",{className:"error",children:["Erreur : ",r]}):(0,l.jsx)("div",{className:"tab-content",children:0===N.length?(0,l.jsxs)("p",{className:"error",children:["Aucun match trouv\xe9 pour ",d.name," \xe0 domicile."]}):(0,l.jsxs)("div",{className:"scroll-container",children:[" ",N.map(((e,a)=>(0,l.jsxs)("div",{className:"match-item",ref:e=>i.current[a]=e,children:[(0,l.jsxs)("div",{className:"match-date",children:[new Date(e.date).toLocaleDateString()," - ",e.time," - ",e.competitionName]}),(0,l.jsxs)("div",{className:"match-content",children:[(0,l.jsxs)("div",{className:"match-details-team",children:[(0,l.jsx)("img",{src:e.homeLogo,alt:"".concat(e.homeTeam," logo"),className:"team-logo"}),e.homeTeam]}),(0,l.jsx)("div",{className:"match-score",children:e.home_score}),(0,l.jsxs)("div",{className:"match-details-team",children:[(0,l.jsx)("img",{src:e.awayLogo,alt:"".concat(e.awayTeam," logo"),className:"team-logo"}),e.awayTeam]}),(0,l.jsx)("div",{className:"match-score",children:e.away_score})]})]},e.id)))]})})}}}]);
//# sourceMappingURL=626.601ab8c7.chunk.js.map