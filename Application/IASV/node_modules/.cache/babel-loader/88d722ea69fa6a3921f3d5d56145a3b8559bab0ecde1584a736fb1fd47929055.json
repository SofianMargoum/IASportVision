{"ast":null,"code":"var _jsxFileName = \"C:\\\\perso\\\\IA Sport Vision\\\\Application\\\\IASV\\\\src\\\\components\\\\Explore\\\\SearchClub.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './css/SearchClub.css';\nimport { fetchCompetitionsForClub } from './../api';\nimport ClubSearch from './ClubSearch';\nimport CompetitionSearch from './CompetitionSearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchClub = ({\n  selectedClub,\n  selectedCompetition,\n  onSelectClub,\n  onCompetitionSelected\n}) => {\n  _s();\n  const [recentClubs, setRecentClubs] = useState([]);\n  const [competitionNames, setCompetitionNames] = useState([]);\n  const [selectedClubName, setSelectedClubName] = useState(null);\n  useEffect(() => {\n    const savedRecentClubs = JSON.parse(localStorage.getItem('recentClubs')) || [];\n    setRecentClubs(savedRecentClubs);\n  }, []);\n  useEffect(() => {\n    if (selectedClub) {\n      handleClubClick(selectedClub);\n    }\n  }, [selectedClub]);\n  useEffect(() => {\n    if (selectedCompetition) {\n      handleCompetitionClick(selectedCompetition);\n    }\n  }, [selectedCompetition]);\n  const updateRecentClubs = club => {\n    const updatedClubs = [club, ...recentClubs.filter(c => c.cl_no !== club.cl_no)].slice(0, 3);\n    setRecentClubs(updatedClubs);\n    localStorage.setItem('recentClubs', JSON.stringify(updatedClubs));\n  };\n  const handleClubClick = async club => {\n    setSelectedClubName(club.name);\n    onSelectClub(club);\n    updateRecentClubs(club);\n    let storedCompetitions = localStorage.getItem(`competitions_${club.cl_no}`);\n    if (storedCompetitions) {\n      storedCompetitions = JSON.parse(storedCompetitions);\n    } else {\n      storedCompetitions = await fetchCompetitionsForClub(club.cl_no);\n      localStorage.setItem(`competitions_${club.cl_no}`, JSON.stringify(storedCompetitions));\n    }\n    setCompetitionNames(storedCompetitions);\n    if (storedCompetitions.length > 0 && !selectedCompetition) {\n      onCompetitionSelected(storedCompetitions[0]);\n    }\n  };\n  const handleCompetitionClick = competitionName => {\n    if (onCompetitionSelected) {\n      onCompetitionSelected(competitionName);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ClubSearch, {\n      recentClubs: recentClubs,\n      onClubSelect: handleClubClick,\n      selectedClubName: selectedClubName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), selectedClub && /*#__PURE__*/_jsxDEV(CompetitionSearch, {\n      competitionNames: competitionNames,\n      onCompetitionSelect: handleCompetitionClick,\n      selectedCompetition: selectedCompetition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchClub, \"aQZybzeQl80P9yxZv6Xi39CKjC0=\");\n_c = SearchClub;\nexport default SearchClub;\nvar _c;\n$RefreshReg$(_c, \"SearchClub\");","map":{"version":3,"names":["React","useState","useEffect","fetchCompetitionsForClub","ClubSearch","CompetitionSearch","jsxDEV","_jsxDEV","SearchClub","selectedClub","selectedCompetition","onSelectClub","onCompetitionSelected","_s","recentClubs","setRecentClubs","competitionNames","setCompetitionNames","selectedClubName","setSelectedClubName","savedRecentClubs","JSON","parse","localStorage","getItem","handleClubClick","handleCompetitionClick","updateRecentClubs","club","updatedClubs","filter","c","cl_no","slice","setItem","stringify","name","storedCompetitions","length","competitionName","children","onClubSelect","fileName","_jsxFileName","lineNumber","columnNumber","onCompetitionSelect","_c","$RefreshReg$"],"sources":["C:/perso/IA Sport Vision/Application/IASV/src/components/Explore/SearchClub.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './css/SearchClub.css';\r\nimport { fetchCompetitionsForClub } from './../api';\r\nimport ClubSearch from './ClubSearch';\r\nimport CompetitionSearch from './CompetitionSearch';\r\n\r\nconst SearchClub = ({ selectedClub, selectedCompetition, onSelectClub, onCompetitionSelected }) => {\r\n  const [recentClubs, setRecentClubs] = useState([]);\r\n  const [competitionNames, setCompetitionNames] = useState([]);\r\n  const [selectedClubName, setSelectedClubName] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const savedRecentClubs = JSON.parse(localStorage.getItem('recentClubs')) || [];\r\n    setRecentClubs(savedRecentClubs);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedClub) {\r\n      handleClubClick(selectedClub);\r\n    }\r\n  }, [selectedClub]);\r\n\r\n  useEffect(() => {\r\n    if (selectedCompetition) {\r\n      handleCompetitionClick(selectedCompetition);\r\n    }\r\n  }, [selectedCompetition]);\r\n\r\n  const updateRecentClubs = (club) => {\r\n    const updatedClubs = [club, ...recentClubs.filter(c => c.cl_no !== club.cl_no)].slice(0, 3);\r\n    setRecentClubs(updatedClubs);\r\n    localStorage.setItem('recentClubs', JSON.stringify(updatedClubs));\r\n  };\r\n\r\n  const handleClubClick = async (club) => {\r\n    setSelectedClubName(club.name);\r\n    onSelectClub(club);\r\n    updateRecentClubs(club);\r\n\r\n    let storedCompetitions = localStorage.getItem(`competitions_${club.cl_no}`);\r\n    \r\n    if (storedCompetitions) {\r\n      storedCompetitions = JSON.parse(storedCompetitions);\r\n    } else {\r\n      storedCompetitions = await fetchCompetitionsForClub(club.cl_no);\r\n      localStorage.setItem(`competitions_${club.cl_no}`, JSON.stringify(storedCompetitions));\r\n    }\r\n    \r\n    setCompetitionNames(storedCompetitions);\r\n\r\n    if (storedCompetitions.length > 0 && !selectedCompetition) {\r\n      onCompetitionSelected(storedCompetitions[0]);\r\n    }\r\n  };\r\n\r\n  const handleCompetitionClick = (competitionName) => {\r\n    if (onCompetitionSelected) {\r\n      onCompetitionSelected(competitionName);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ClubSearch\r\n        recentClubs={recentClubs}\r\n        onClubSelect={handleClubClick}\r\n        selectedClubName={selectedClubName}\r\n      />\r\n      {selectedClub && (\r\n        <CompetitionSearch\r\n          competitionNames={competitionNames}\r\n          onCompetitionSelect={handleCompetitionClick}\r\n          selectedCompetition={selectedCompetition}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchClub;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,sBAAsB;AAC7B,SAASC,wBAAwB,QAAQ,UAAU;AACnD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,iBAAiB,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,UAAU,GAAGA,CAAC;EAAEC,YAAY;EAAEC,mBAAmB;EAAEC,YAAY;EAAEC;AAAsB,CAAC,KAAK;EAAAC,EAAA;EACjG,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACe,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACiB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAE9DC,SAAS,CAAC,MAAM;IACd,MAAMkB,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE;IAC9ET,cAAc,CAACK,gBAAgB,CAAC;EAClC,CAAC,EAAE,EAAE,CAAC;EAENlB,SAAS,CAAC,MAAM;IACd,IAAIO,YAAY,EAAE;MAChBgB,eAAe,CAAChB,YAAY,CAAC;IAC/B;EACF,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElBP,SAAS,CAAC,MAAM;IACd,IAAIQ,mBAAmB,EAAE;MACvBgB,sBAAsB,CAAChB,mBAAmB,CAAC;IAC7C;EACF,CAAC,EAAE,CAACA,mBAAmB,CAAC,CAAC;EAEzB,MAAMiB,iBAAiB,GAAIC,IAAI,IAAK;IAClC,MAAMC,YAAY,GAAG,CAACD,IAAI,EAAE,GAAGd,WAAW,CAACgB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,KAAKJ,IAAI,CAACI,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3FlB,cAAc,CAACc,YAAY,CAAC;IAC5BN,YAAY,CAACW,OAAO,CAAC,aAAa,EAAEb,IAAI,CAACc,SAAS,CAACN,YAAY,CAAC,CAAC;EACnE,CAAC;EAED,MAAMJ,eAAe,GAAG,MAAOG,IAAI,IAAK;IACtCT,mBAAmB,CAACS,IAAI,CAACQ,IAAI,CAAC;IAC9BzB,YAAY,CAACiB,IAAI,CAAC;IAClBD,iBAAiB,CAACC,IAAI,CAAC;IAEvB,IAAIS,kBAAkB,GAAGd,YAAY,CAACC,OAAO,CAAC,gBAAgBI,IAAI,CAACI,KAAK,EAAE,CAAC;IAE3E,IAAIK,kBAAkB,EAAE;MACtBA,kBAAkB,GAAGhB,IAAI,CAACC,KAAK,CAACe,kBAAkB,CAAC;IACrD,CAAC,MAAM;MACLA,kBAAkB,GAAG,MAAMlC,wBAAwB,CAACyB,IAAI,CAACI,KAAK,CAAC;MAC/DT,YAAY,CAACW,OAAO,CAAC,gBAAgBN,IAAI,CAACI,KAAK,EAAE,EAAEX,IAAI,CAACc,SAAS,CAACE,kBAAkB,CAAC,CAAC;IACxF;IAEApB,mBAAmB,CAACoB,kBAAkB,CAAC;IAEvC,IAAIA,kBAAkB,CAACC,MAAM,GAAG,CAAC,IAAI,CAAC5B,mBAAmB,EAAE;MACzDE,qBAAqB,CAACyB,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAC9C;EACF,CAAC;EAED,MAAMX,sBAAsB,GAAIa,eAAe,IAAK;IAClD,IAAI3B,qBAAqB,EAAE;MACzBA,qBAAqB,CAAC2B,eAAe,CAAC;IACxC;EACF,CAAC;EAED,oBACEhC,OAAA;IAAAiC,QAAA,gBACEjC,OAAA,CAACH,UAAU;MACTU,WAAW,EAAEA,WAAY;MACzB2B,YAAY,EAAEhB,eAAgB;MAC9BP,gBAAgB,EAAEA;IAAiB;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,EACDpC,YAAY,iBACXF,OAAA,CAACF,iBAAiB;MAChBW,gBAAgB,EAAEA,gBAAiB;MACnC8B,mBAAmB,EAAEpB,sBAAuB;MAC5ChB,mBAAmB,EAAEA;IAAoB;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChC,EAAA,CAvEIL,UAAU;AAAAuC,EAAA,GAAVvC,UAAU;AAyEhB,eAAeA,UAAU;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}